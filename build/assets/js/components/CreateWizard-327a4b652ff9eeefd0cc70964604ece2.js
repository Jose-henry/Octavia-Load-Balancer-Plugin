//# sourceMappingURL=CreateWizard.js.map
(function(){window.Octavia.CreateWizard=({networkId:k,options:e,onCreated:t,onClose:p})=>{const {Step1_Details:u,Step2_Listener:v,Step3_Pool:w,Step4_Members:x,Step5_Monitor:y}=window.Octavia.Steps,[c,l]=React.useState(1),[q,d]=React.useState(""),[a,z]=React.useState({networkId:k,createListener:!0,createPool:!0,createMonitor:!0,listenerProtocol:"HTTP",listenerPort:80,poolProtocol:"HTTP",poolAlgorithm:"ROUND_ROBIN",monitorType:"HTTP",members:[]}),[r,m]=React.useState(!1),g=(b,f)=>z(A=>({...A,[b]:f}));
React.useEffect(()=>{e&&e.subnets&&0<e.subnets.length&&!a.vipSubnetId&&g("vipSubnetId",e.subnets[0].value)},[e]);const n=b=>{if(1===b){if(!a.name||!a.name.trim())return"Name is required.";if(!a.vipSubnetId)return"VIP Subnet is required."}if(2===b&&a.createListener){if(!a.listenerName||!a.listenerName.trim())return"Listener Name is required.";if(!a.listenerProtocol)return"Listener Protocol is required.";if(!a.listenerPort)return"Listener Port is required."}if(3===b&&a.createPool){if(!a.poolName||!a.poolName.trim())return"Pool Name is required.";
if(!("APP_COOKIE"!==a.sessionPersistence||a.cookieName&&a.cookieName.trim()))return"Cookie Name is required."}if(5===b&&a.createMonitor){if(!a.monitorName||!a.monitorName.trim())return"Monitor Name is required.";if(!a.monitorType)return"Monitor Type is required.";if(!a.delay)return"Delay is required.";if(!a.timeout)return"Timeout is required.";if(!a.maxRetries)return"Max Retries is required."}return null};k=()=>{const b=n(c);b?d(b):(d(""),l(c+1))};const B=()=>{d("");l(c-1)},h=b=>{if(b>c){const f=
n(c);if(f){d(f);return}}d("");l(b)},C=()=>{const b=n(5);b?d(b):(d(""),m(!0),window.Octavia.api.createLoadBalancer(a).then(()=>{m(!1);t()}).catch(f=>{m(!1);d("Error: "+f.message)}))};return React.createElement("div",{className:"modal fade in",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)",overflowY:"auto"}},React.createElement("div",{className:"modal-dialog modal-lg"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",
{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:p},React.createElement("span",{"aria-hidden":"true"},React.createElement("svg",{version:"1.1",className:"close-icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 59.9 59.9",enableBackground:"new 0 0 59.9 59.9",xmlSpace:"preserve"},React.createElement("line",{fill:"none",stroke:"currentColor",strokeMiterlimit:"10",x1:"57.4",y1:"2.5",x2:"2.5",y2:"57.4"}),
React.createElement("line",{fill:"none",stroke:"currentColor",strokeMiterlimit:"10",x1:"2.5",y1:"2.5",x2:"57.4",y2:"57.4"})))),React.createElement("h4",{className:"modal-title"},"Create Load Balancer")),React.createElement("div",{className:"modal-body"},q&&React.createElement("div",{className:"alert alert-danger",style:{padding:"10px 15px",marginBottom:20}},q),React.createElement("ul",{className:"nav nav-pills nav-justified",style:{marginBottom:20}},React.createElement("li",{className:1===c?"active":
""},React.createElement("a",{onClick:()=>h(1)},"1. Details")),React.createElement("li",{className:2===c?"active":""},React.createElement("a",{onClick:()=>h(2)},"2. Listener")),React.createElement("li",{className:3===c?"active":""},React.createElement("a",{onClick:()=>h(3)},"3. Pool")),React.createElement("li",{className:4===c?"active":""},React.createElement("a",{onClick:()=>h(4)},"4. Members")),React.createElement("li",{className:5===c?"active":""},React.createElement("a",{onClick:()=>h(5)},"5. Monitor"))),
(()=>{switch(c){case 1:return React.createElement(u,{data:a,update:g,options:e});case 2:return React.createElement(v,{data:a,update:g});case 3:return React.createElement(w,{data:a,update:g});case 4:return React.createElement(x,{data:a,update:g,options:e});case 5:return React.createElement(y,{data:a,update:g});default:return React.createElement("div",null,"Unknown Step")}})()),React.createElement("div",{className:"modal-footer"},React.createElement("button",{className:"btn btn-default",onClick:p},
"Cancel"),1<c&&React.createElement("button",{className:"btn btn-default",onClick:B},"Previous"),5>c&&React.createElement("button",{className:"btn btn-primary",onClick:k},"Next"),5===c&&React.createElement("button",{className:"btn btn-success",onClick:C,disabled:r},r?"Creating...":"Create Load Balancer")))))}})();