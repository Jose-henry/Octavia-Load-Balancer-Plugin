//# sourceMappingURL=WizardSteps.js.map
(function(){window.Octavia=window.Octavia||{};window.Octavia.Steps={Step1_Details:({data:a,update:c,options:e})=>{const {Field:h}=window.Octavia;return React.createElement("div",{className:"form-horizontal"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"Name",required:!0},React.createElement("input",{className:"form-control",value:a.name||"",onChange:b=>c("name",b.target.value),placeholder:"My Load Balancer"}))),React.createElement("div",
{className:"col-md-6"},React.createElement(h,{label:"Description"},React.createElement("input",{className:"form-control",value:a.description||"",onChange:b=>c("description",b.target.value),placeholder:"Optional description"})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"VIP Subnet",required:!0},React.createElement("select",{className:"form-control",value:a.vipSubnetId||"",onChange:b=>c("vipSubnetId",b.target.value)},
React.createElement("option",{value:!0},"Select Subnet..."),(e.subnets||[]).map(b=>React.createElement("option",{key:b.value,value:b.value},b.name,b.cidr?`(${b.cidr})`:""))))),React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"IP Address"},React.createElement("input",{className:"form-control",value:a.vipAddress||"",onChange:b=>c("vipAddress",b.target.value),placeholder:"Auto-assign"})))))},Step2_Listener:({data:a,update:c})=>{const {Field:e}=window.Octavia,h="HTTP HTTPS TERMINATED_HTTPS TCP UDP SCTP".split(" "),
b=["HTTP","TERMINATED_HTTPS"].includes(a.listenerProtocol),g="TERMINATED_HTTPS"===a.listenerProtocol,l=["UDP","SCTP"].includes(a.listenerProtocol);return React.createElement("div",{className:"form-horizontal"},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"col-sm-12"},React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.createListener,onChange:d=>c("createListener",d.target.checked)}),
React.createElement("strong",null,"Create Listener"))))),a.createListener&&React.createElement("div",{style:{borderLeft:"3px solid #ddd",paddingLeft:15,marginLeft:5}},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Listener Name",required:!0},React.createElement("input",{className:"form-control",value:a.listenerName||"",onChange:d=>c("listenerName",d.target.value)}))),React.createElement("div",{className:"col-md-3"},React.createElement(e,
{label:"Protocol",required:!0},React.createElement("select",{className:"form-control",value:a.listenerProtocol||"HTTP",onChange:d=>c("listenerProtocol",d.target.value)},h.map(d=>React.createElement("option",{key:d,value:d},d))))),React.createElement("div",{className:"col-md-3"},React.createElement(e,{label:"Port",required:!0},React.createElement("input",{type:"number",className:"form-control",value:a.listenerPort||80,onChange:d=>c("listenerPort",parseInt(d.target.value)),min:"1",max:"65535"})))),
React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Connection Limit"},React.createElement("input",{type:"number",className:"form-control",value:a.connectionLimit||-1,onChange:d=>c("connectionLimit",parseInt(d.target.value)),placeholder:"-1 for infinite"}))),React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Allowed CIDRs"},React.createElement("input",{className:"form-control",value:a.allowedCidrs||
"",onChange:d=>c("allowedCidrs",d.target.value),placeholder:"e.g. 192.168.1.0/24, 10.0.0.0/8"})))),!l&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(e,{label:"Client Data Timeout"},React.createElement("input",{type:"number",className:"form-control",value:a.clientDataTimeout||5E4,onChange:d=>c("clientDataTimeout",parseInt(d.target.value))}))),React.createElement("div",{className:"col-md-3"},React.createElement(e,{label:"TCP Inspect Timeout"},
React.createElement("input",{type:"number",className:"form-control",value:a.tcpInspectTimeout||0,onChange:d=>c("tcpInspectTimeout",parseInt(d.target.value))}))),React.createElement("div",{className:"col-md-3"},React.createElement(e,{label:"Member Connect Timeout"},React.createElement("input",{type:"number",className:"form-control",value:a.memberConnectTimeout||5E3,onChange:d=>c("memberConnectTimeout",parseInt(d.target.value))}))),React.createElement("div",{className:"col-md-3"},React.createElement(e,
{label:"Member Data Timeout"},React.createElement("input",{type:"number",className:"form-control",value:a.memberDataTimeout||5E4,onChange:d=>c("memberDataTimeout",parseInt(d.target.value))})))),b&&React.createElement("div",{className:"well ml-3"},React.createElement("label",null,"Insert Headers"),React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.insertXForwardedFor||!1,onChange:d=>c("insertXForwardedFor",d.target.checked)}),
" X-Forwarded-For")),React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.insertXForwardedPort||!1,onChange:d=>c("insertXForwardedPort",d.target.checked)})," X-Forwarded-Port")),React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.insertXForwardedProto||!1,onChange:d=>c("insertXForwardedProto",d.target.checked)})," X-Forwarded-Proto"))),
g&&React.createElement("div",{className:"well ml-3"},React.createElement("label",null,"TLS Configuration"),React.createElement(e,{label:"TLS Cipher String"},React.createElement("input",{className:"form-control",value:a.tlsCipherString||"",onChange:d=>c("tlsCipherString",d.target.value),placeholder:"Default"})))))},Step3_Pool:({data:a,update:c})=>{const {Field:e}=window.Octavia,h=["ROUND_ROBIN","LEAST_CONNECTIONS","SOURCE_IP"],b=["HTTP","HTTPS","TCP","UDP","SCTP"];return React.createElement("div",
{className:"form-horizontal"},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"col-sm-12"},React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.createPool,onChange:g=>c("createPool",g.target.checked)}),React.createElement("strong",null,"Create Pool"))))),a.createPool&&React.createElement("div",{style:{borderLeft:"3px solid #ddd",paddingLeft:15,marginLeft:5}},React.createElement("div",
{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Pool Name",required:!0},React.createElement("input",{className:"form-control",value:a.poolName||"",onChange:g=>c("poolName",g.target.value)}))),React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Algorithm",required:!0},React.createElement("select",{className:"form-control",value:a.poolAlgorithm||"ROUND_ROBIN",onChange:g=>c("poolAlgorithm",g.target.value)},h.map(g=>React.createElement("option",
{key:g,value:g},g)))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Protocol",required:!0},React.createElement("select",{className:"form-control",value:a.poolProtocol||a.listenerProtocol||"HTTP",onChange:g=>c("poolProtocol",g.target.value)},b.map(g=>React.createElement("option",{key:g,value:g},g))))),React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Description"},React.createElement("input",
{className:"form-control",value:a.poolDesc||"",onChange:g=>c("poolDesc",g.target.value)})))),React.createElement("div",{className:"well"},React.createElement("label",null,"Session Persistence"),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Type"},React.createElement("select",{className:"form-control",value:a.sessionPersistence||"None",onChange:g=>c("sessionPersistence",g.target.value)},React.createElement("option",{value:"None"},
"None"),React.createElement("option",{value:"SOURCE_IP"},"Source IP"),React.createElement("option",{value:"HTTP_COOKIE"},"HTTP Cookie"),React.createElement("option",{value:"APP_COOKIE"},"App Cookie")))),"APP_COOKIE"===a.sessionPersistence&&React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Cookie Name",required:!0},React.createElement("input",{className:"form-control",value:a.cookieName||"",onChange:g=>c("cookieName",g.target.value)}))))),React.createElement("div",{className:"well"},
React.createElement("label",null,"TLS Encryption (Backend Re-encryption)"),React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.poolTlsEnabled||!1,onChange:g=>c("poolTlsEnabled",g.target.checked)}),"Enable TLS")),a.poolTlsEnabled&&React.createElement(e,{label:"Cipher String"},React.createElement("input",{className:"form-control",value:a.poolTlsCipher||"",onChange:g=>c("poolTlsCipher",g.target.value),placeholder:"Default"})))))},
Step4_Members:({data:a,update:c,options:e})=>{const {Badge:h}=window.Octavia,[b,g]=React.useState(""),l=(e.instances||[]).filter(f=>!(a.members||[]).find(k=>k.id===f.value)),[d,m]=React.useState(""),[n,q]=React.useState(80),[p,r]=React.useState(1),t=()=>{if(b){var f=e.instances.find(k=>k.value===b);f={id:f.value,name:f.name,type:"INTERNAL",address:"10.0.0."+Math.floor(255*Math.random()),port:80,weight:1,role:"member"};c("members",[...(a.members||[]),f]);g("")}},u=()=>{if(d){var f={id:"ext-"+Math.floor(1E4*
Math.random()),name:d,type:"EXTERNAL",address:d,port:n,weight:p,role:"member"};c("members",[...(a.members||[]),f]);m("")}},v=f=>{c("members",(a.members||[]).filter(k=>k.id!==f))};return React.createElement("div",null,a.createPool?React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},"Add Instance Member"),React.createElement("div",
{className:"panel-body"},React.createElement("div",{className:"input-group"},React.createElement("select",{className:"form-control",value:b,onChange:f=>g(f.target.value)},React.createElement("option",{value:!0},"Select Instance..."),l.map(f=>React.createElement("option",{key:f.value,value:f.value},f.name))),React.createElement("span",{className:"input-group-btn"},React.createElement("button",{className:"btn btn-success",onClick:t,disabled:!b},"Add")))))),React.createElement("div",{className:"col-md-6"},
React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},"Add External Member"),React.createElement("div",{className:"panel-body"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-5"},React.createElement("input",{className:"form-control input-sm",placeholder:"IP Address",value:d,onChange:f=>m(f.target.value)})),React.createElement("div",{className:"col-xs-3"},React.createElement("input",{type:"number",
className:"form-control input-sm",placeholder:"Port",value:n,onChange:f=>q(parseInt(f.target.value))})),React.createElement("div",{className:"col-xs-2"},React.createElement("input",{type:"number",className:"form-control input-sm",placeholder:"Wgt",value:p,onChange:f=>r(parseInt(f.target.value))})),React.createElement("div",{className:"col-xs-2"},React.createElement("button",{className:"btn btn-success btn-sm btn-block",onClick:u,disabled:!d},"Add"))))))),React.createElement("table",{className:"table table-striped table-bordered"},
React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Address"),React.createElement("th",null,"Port"),React.createElement("th",null,"Weight"),React.createElement("th",null,"Type"),React.createElement("th",null))),React.createElement("tbody",null,0===(a.members||[]).length?React.createElement("tr",null,React.createElement("td",{colSpan:"6",className:"text-center text-muted"},"No members defined")):(a.members||[]).map(f=>
React.createElement("tr",{key:f.id},React.createElement("td",null,f.name),React.createElement("td",null,f.address),React.createElement("td",null,f.port),React.createElement("td",null,f.weight),React.createElement("td",null,React.createElement(h,{text:f.type||"INTERNAL",tone:"EXTERNAL"===f.type?"warning":"info"})),React.createElement("td",{className:"text-right"},React.createElement("button",{className:"btn btn-xs",style:{backgroundColor:"#b00020",color:"#fff",border:"none",fontWeight:600},onClick:()=>
v(f.id)},"&times;"))))))):React.createElement("div",{className:"alert alert-warning"},"Pool creation is disabled. No members can be added."))},Step5_Monitor:({data:a,update:c})=>{const {Field:e}=window.Octavia,h="HTTP HTTPS PING TCP TLS-HELLO UDP-CONNECT SCTP".split(" ");return React.createElement("div",{className:"form-horizontal"},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"col-sm-12"},React.createElement("div",{className:"checkbox"},React.createElement("label",
null,React.createElement("input",{type:"checkbox",checked:a.createMonitor,onChange:b=>c("createMonitor",b.target.checked)}),React.createElement("strong",null,"Create Health Monitor"))))),a.createMonitor&&React.createElement("div",{style:{borderLeft:"3px solid #ddd",paddingLeft:15,marginLeft:5}},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Name",required:!0},React.createElement("input",{className:"form-control",value:a.monitorName||
"",onChange:b=>c("monitorName",b.target.value)}))),React.createElement("div",{className:"col-md-6"},React.createElement(e,{label:"Type",required:!0},React.createElement("select",{className:"form-control",value:a.monitorType||"HTTP",onChange:b=>c("monitorType",b.target.value)},h.map(b=>React.createElement("option",{key:b,value:b},b)))))),("HTTP"===a.monitorType||"HTTPS"===a.monitorType)&&React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},
React.createElement(e,{label:"HTTP Method"},React.createElement("select",{className:"form-control",value:a.httpMethod||"GET",onChange:b=>c("httpMethod",b.target.value)},"GET HEAD POST PUT DELETE TRACE OPTIONS PATCH CONNECT".split(" ").map(b=>React.createElement("option",{key:b,value:b},b))))),React.createElement("div",{className:"col-md-4"},React.createElement(e,{label:"Expected Codes"},React.createElement("input",{className:"form-control",value:a.expectedCodes||"200",onChange:b=>c("expectedCodes",
b.target.value),placeholder:"200, 200-204"}))),React.createElement("div",{className:"col-md-4"},React.createElement(e,{label:"URL Path"},React.createElement("input",{className:"form-control",value:a.urlPath||"/",onChange:b=>c("urlPath",b.target.value),placeholder:"/"}))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(e,{label:"Delay (sec)",required:!0},React.createElement("input",{type:"number",className:"form-control",value:a.delay||
5,onChange:b=>c("delay",parseInt(b.target.value))}))),React.createElement("div",{className:"col-md-3"},React.createElement(e,{label:"Timeout (sec)",required:!0},React.createElement("input",{type:"number",className:"form-control",value:a.timeout||5,onChange:b=>c("timeout",parseInt(b.target.value))}))),React.createElement("div",{className:"col-md-3"},React.createElement(e,{label:"Max Retries",required:!0},React.createElement("input",{type:"number",className:"form-control",value:a.maxRetries||3,onChange:b=>
c("maxRetries",parseInt(b.target.value))}))),React.createElement("div",{className:"col-md-3"},React.createElement(e,{label:"Max Retries Down"},React.createElement("input",{type:"number",className:"form-control",value:a.maxRetriesDown||3,onChange:b=>c("maxRetriesDown",parseInt(b.target.value))}))))))}}})();