//# sourceMappingURL=WizardSteps.js.map
(function(){window.Octavia=window.Octavia||{};window.Octavia.Steps={Step1_Details:({data:a,update:b,options:f})=>{const {Field:h}=window.Octavia,d=f?.optionResourcePools?.[0]?.name||"None";return React.createElement("div",{className:"form-horizontal"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"Cloud"},React.createElement("input",{className:"form-control",value:f?.optionClouds?.[0]?.name||f?.cloud?.name||a?.cloud?.name||
"None",readOnly:!0,disabled:!0}))),React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"Resource Pool"},React.createElement("input",{className:"form-control",value:d,readOnly:!0,disabled:!0})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"Name",required:!0},React.createElement("input",{className:"form-control",value:a.name||"",onChange:c=>b("name",c.target.value),placeholder:"My Load Balancer"}))),
React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"Description"},React.createElement("input",{className:"form-control",value:a.description||"",onChange:c=>b("description",c.target.value),placeholder:"Optional description"})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"VIP Subnet",required:!0},React.createElement("select",{className:"form-control",value:a.vipSubnetId||"",onChange:c=>b("vipSubnetId",
c.target.value)},React.createElement("option",{value:!0},"Select Subnet..."),(f.subnets||[]).map(c=>React.createElement("option",{key:c.value,value:c.value},c.name,c.cidr?`(${c.cidr})`:""))))),React.createElement("div",{className:"col-md-6"},React.createElement(h,{label:"IP Address"},React.createElement("input",{className:"form-control",value:a.vipAddress||"",onChange:c=>b("vipAddress",c.target.value),placeholder:"Auto-assign"})))))},Step2_Listener:({data:a,update:b})=>{const {Field:f}=window.Octavia,
h="HTTP HTTPS TERMINATED_HTTPS TCP UDP SCTP".split(" "),d=["HTTP","TERMINATED_HTTPS"].includes(a.listenerProtocol),c="TERMINATED_HTTPS"===a.listenerProtocol,l=["UDP","SCTP"].includes(a.listenerProtocol);return React.createElement("div",{className:"form-horizontal"},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"col-sm-12"},React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.createListener,
onChange:e=>b("createListener",e.target.checked)}),React.createElement("strong",null,"Create Listener"))))),a.createListener&&React.createElement("div",{style:{borderLeft:"3px solid #ddd",paddingLeft:15,marginLeft:5}},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Listener Name",required:!0},React.createElement("input",{className:"form-control",value:a.listenerName||"",onChange:e=>b("listenerName",e.target.value)}))),React.createElement("div",
{className:"col-md-3"},React.createElement(f,{label:"Protocol",required:!0},React.createElement("select",{className:"form-control",value:a.listenerProtocol||"HTTP",onChange:e=>b("listenerProtocol",e.target.value)},h.map(e=>React.createElement("option",{key:e,value:e},e))))),React.createElement("div",{className:"col-md-3"},React.createElement(f,{label:"Port",required:!0},React.createElement("input",{type:"number",className:"form-control",value:a.listenerPort||80,onChange:e=>b("listenerPort",parseInt(e.target.value)),
min:"1",max:"65535"})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Connection Limit"},React.createElement("input",{type:"number",className:"form-control",value:a.connectionLimit||-1,onChange:e=>b("connectionLimit",parseInt(e.target.value)),placeholder:"-1 for infinite"}))),React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Allowed CIDRs"},React.createElement("input",{className:"form-control",
value:a.allowedCidrs||"",onChange:e=>b("allowedCidrs",e.target.value),placeholder:"e.g. 192.168.1.0/24, 10.0.0.0/8"})))),!l&&React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Client Data Timeout"},React.createElement("input",{type:"number",className:"form-control",value:a.clientDataTimeout||5E4,onChange:e=>b("clientDataTimeout",parseInt(e.target.value))}))),React.createElement("div",{className:"col-md-6"},
React.createElement(f,{label:"TCP Inspect Timeout"},React.createElement("input",{type:"number",className:"form-control",value:a.tcpInspectTimeout||0,onChange:e=>b("tcpInspectTimeout",parseInt(e.target.value))})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Member Connect Timeout"},React.createElement("input",{type:"number",className:"form-control",value:a.memberConnectTimeout||5E3,onChange:e=>b("memberConnectTimeout",
parseInt(e.target.value))}))),React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Member Data Timeout"},React.createElement("input",{type:"number",className:"form-control",value:a.memberDataTimeout||5E4,onChange:e=>b("memberDataTimeout",parseInt(e.target.value))}))))),d&&React.createElement("div",{className:"well ml-3"},React.createElement("label",null,"Insert Headers"),React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",
{type:"checkbox",checked:a.insertXForwardedFor||!1,onChange:e=>b("insertXForwardedFor",e.target.checked)})," X-Forwarded-For")),React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.insertXForwardedPort||!1,onChange:e=>b("insertXForwardedPort",e.target.checked)})," X-Forwarded-Port")),React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.insertXForwardedProto||
!1,onChange:e=>b("insertXForwardedProto",e.target.checked)})," X-Forwarded-Proto"))),c&&React.createElement("div",{className:"well ml-3"},React.createElement("label",null,"TLS Configuration"),React.createElement(f,{label:"TLS Cipher String"},React.createElement("input",{className:"form-control",value:a.tlsCipherString||"",onChange:e=>b("tlsCipherString",e.target.value),placeholder:"Default"})))))},Step3_Pool:({data:a,update:b})=>{const {Field:f}=window.Octavia,h=["ROUND_ROBIN","LEAST_CONNECTIONS",
"SOURCE_IP"],d=["HTTP","HTTPS","TCP","UDP","SCTP"];return React.createElement("div",{className:"form-horizontal"},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"col-sm-12"},React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.createPool,onChange:c=>b("createPool",c.target.checked)}),React.createElement("strong",null,"Create Pool"))))),a.createPool&&React.createElement("div",
{style:{borderLeft:"3px solid #ddd",paddingLeft:15,marginLeft:5}},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Pool Name",required:!0},React.createElement("input",{className:"form-control",value:a.poolName||"",onChange:c=>b("poolName",c.target.value)}))),React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Algorithm",required:!0},React.createElement("select",{className:"form-control",value:a.poolAlgorithm||
"ROUND_ROBIN",onChange:c=>b("poolAlgorithm",c.target.value)},h.map(c=>React.createElement("option",{key:c,value:c},c)))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Protocol",required:!0},React.createElement("select",{className:"form-control",value:a.poolProtocol||a.listenerProtocol||"HTTP",onChange:c=>b("poolProtocol",c.target.value)},d.map(c=>React.createElement("option",{key:c,value:c},c))))),React.createElement("div",
{className:"col-md-6"},React.createElement(f,{label:"Description"},React.createElement("input",{className:"form-control",value:a.poolDesc||"",onChange:c=>b("poolDesc",c.target.value)})))),React.createElement("div",{className:"well"},React.createElement("label",null,"Session Persistence"),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Type"},React.createElement("select",{className:"form-control",value:a.sessionPersistence||
"None",onChange:c=>b("sessionPersistence",c.target.value)},React.createElement("option",{value:"None"},"None"),React.createElement("option",{value:"SOURCE_IP"},"Source IP"),React.createElement("option",{value:"HTTP_COOKIE"},"HTTP Cookie"),React.createElement("option",{value:"APP_COOKIE"},"App Cookie")))),"APP_COOKIE"===a.sessionPersistence&&React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Cookie Name",required:!0},React.createElement("input",{className:"form-control",
value:a.cookieName||"",onChange:c=>b("cookieName",c.target.value)}))))),React.createElement("div",{className:"well"},React.createElement("label",null,"TLS Encryption (Backend Re-encryption)"),React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.poolTlsEnabled||!1,onChange:c=>b("poolTlsEnabled",c.target.checked)}),"Enable TLS")),a.poolTlsEnabled&&React.createElement(f,{label:"Cipher String"},React.createElement("input",
{className:"form-control",value:a.poolTlsCipher||"",onChange:c=>b("poolTlsCipher",c.target.value),placeholder:"Default"})))))},Step4_Members:({data:a,update:b,options:f})=>{const {Badge:h}=window.Octavia,[d,c]=React.useState(""),l=(f.instances||[]).filter(g=>!(a.members||[]).find(k=>k.id===g.value)),[e,m]=React.useState(""),[n,q]=React.useState(80),[p,r]=React.useState(1),t=()=>{if(d){var g=f.instances.find(k=>k.value===d);g={id:g.value,name:g.name,type:"INTERNAL",address:"10.0.0."+Math.floor(255*
Math.random()),port:80,weight:1,role:"member"};b("members",[...(a.members||[]),g]);c("")}},u=()=>{if(e){var g={id:"ext-"+Math.floor(1E4*Math.random()),name:e,type:"EXTERNAL",address:e,port:n,weight:p,role:"member"};b("members",[...(a.members||[]),g]);m("")}},v=g=>{b("members",(a.members||[]).filter(k=>k.id!==g))};return React.createElement("div",null,a.createPool?React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("div",
{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},"Add Instance Member"),React.createElement("div",{className:"panel-body"},React.createElement("div",{className:"input-group"},React.createElement("select",{className:"form-control",value:d,onChange:g=>c(g.target.value)},React.createElement("option",{value:!0},"Select Instance..."),l.map(g=>React.createElement("option",{key:g.value,value:g.value},g.name))),React.createElement("span",{className:"input-group-btn"},
React.createElement("button",{className:"btn btn-success",onClick:t,disabled:!d},"Add")))))),React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},"Add External Member"),React.createElement("div",{className:"panel-body"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-5"},React.createElement("input",{className:"form-control input-sm",placeholder:"IP Address",
value:e,onChange:g=>m(g.target.value)})),React.createElement("div",{className:"col-xs-3"},React.createElement("input",{type:"number",className:"form-control input-sm",placeholder:"Port",value:n,onChange:g=>q(parseInt(g.target.value))})),React.createElement("div",{className:"col-xs-2"},React.createElement("input",{type:"number",className:"form-control input-sm",placeholder:"Wgt",value:p,onChange:g=>r(parseInt(g.target.value))})),React.createElement("div",{className:"col-xs-2"},React.createElement("button",
{className:"btn btn-success btn-sm btn-block",onClick:u,disabled:!e},"Add"))))))),React.createElement("table",{className:"table table-striped table-bordered"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Address"),React.createElement("th",null,"Port"),React.createElement("th",null,"Weight"),React.createElement("th",null,"Type"),React.createElement("th",null))),React.createElement("tbody",null,0===(a.members||[]).length?
React.createElement("tr",null,React.createElement("td",{colSpan:"6",className:"text-center text-muted"},"No members defined")):(a.members||[]).map(g=>React.createElement("tr",{key:g.id},React.createElement("td",null,g.name),React.createElement("td",null,g.address),React.createElement("td",null,g.port),React.createElement("td",null,g.weight),React.createElement("td",null,React.createElement(h,{text:g.type||"INTERNAL",tone:"EXTERNAL"===g.type?"warning":"info"})),React.createElement("td",{className:"text-right"},
React.createElement("button",{className:"btn btn-xs",style:{backgroundColor:"#b00020",color:"#fff",border:"none",padding:"4px 8px",fontWeight:"bold"},onClick:()=>v(g.id)},React.createElement("i",{className:"fa fa-trash"})," REMOVE"))))))):React.createElement("div",{className:"alert alert-warning"},"Pool creation is disabled. No members can be added."))},Step5_Monitor:({data:a,update:b})=>{const {Field:f}=window.Octavia,h="HTTP HTTPS PING TCP TLS-HELLO UDP-CONNECT SCTP".split(" ");return React.createElement("div",
{className:"form-horizontal"},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"col-sm-12"},React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:a.createMonitor,onChange:d=>b("createMonitor",d.target.checked)}),React.createElement("strong",null,"Create Health Monitor"))))),a.createMonitor&&React.createElement("div",{style:{borderLeft:"3px solid #ddd",paddingLeft:15,marginLeft:5}},
React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Name",required:!0},React.createElement("input",{className:"form-control",value:a.monitorName||"",onChange:d=>b("monitorName",d.target.value)}))),React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Type",required:!0},React.createElement("select",{className:"form-control",value:a.monitorType||"HTTP",onChange:d=>b("monitorType",d.target.value)},h.map(d=>
React.createElement("option",{key:d,value:d},d)))))),("HTTP"===a.monitorType||"HTTPS"===a.monitorType)&&React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement(f,{label:"HTTP Method"},React.createElement("select",{className:"form-control",value:a.httpMethod||"GET",onChange:d=>b("httpMethod",d.target.value)},"GET HEAD POST PUT DELETE TRACE OPTIONS PATCH CONNECT".split(" ").map(d=>React.createElement("option",{key:d,
value:d},d))))),React.createElement("div",{className:"col-md-4"},React.createElement(f,{label:"Expected Codes"},React.createElement("input",{className:"form-control",value:a.expectedCodes||"200",onChange:d=>b("expectedCodes",d.target.value),placeholder:"200, 200-204"}))),React.createElement("div",{className:"col-md-4"},React.createElement(f,{label:"URL Path"},React.createElement("input",{className:"form-control",value:a.urlPath||"/",onChange:d=>b("urlPath",d.target.value),placeholder:"/"}))))),React.createElement("div",
{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Delay (sec)",required:!0},React.createElement("input",{type:"number",className:"form-control",value:a.delay||5,onChange:d=>b("delay",parseInt(d.target.value))}))),React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Timeout (sec)",required:!0},React.createElement("input",{type:"number",className:"form-control",value:a.timeout||5,onChange:d=>b("timeout",parseInt(d.target.value))})))),
React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Max Retries",required:!0},React.createElement("input",{type:"number",className:"form-control",value:a.maxRetries||3,onChange:d=>b("maxRetries",parseInt(d.target.value))}))),React.createElement("div",{className:"col-md-6"},React.createElement(f,{label:"Max Retries Down"},React.createElement("input",{type:"number",className:"form-control",value:a.maxRetriesDown||3,onChange:d=>b("maxRetriesDown",
parseInt(d.target.value))}))))))}}})();