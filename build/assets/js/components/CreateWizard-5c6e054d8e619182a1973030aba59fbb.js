//# sourceMappingURL=CreateWizard.js.map
(function(){window.Octavia.CreateWizard=({networkId:k,options:e,onCreated:t,onClose:p})=>{const {Step1_Details:u,Step2_Listener:v,Step3_Pool:w,Step4_Members:x,Step5_Monitor:y}=window.Octavia.Steps,[b,l]=React.useState(1),[q,d]=React.useState(""),[a,z]=React.useState({networkId:k,createListener:!0,createPool:!0,createMonitor:!0,listenerProtocol:"HTTP",listenerPort:80,poolProtocol:"HTTP",poolAlgorithm:"ROUND_ROBIN",monitorType:"HTTP",members:[],delay:5,timeout:5,maxRetries:3,maxRetriesDown:3,httpMethod:"GET",
expectedCodes:"200",urlPath:"/"}),[r,m]=React.useState(!1),g=(c,f)=>z(A=>({...A,[c]:f}));React.useEffect(()=>{e&&e.subnets&&0<e.subnets.length&&!a.vipSubnetId&&g("vipSubnetId",e.subnets[0].value)},[e]);const n=c=>{if(1===c){if(!a.name||!a.name.trim())return"Name is required.";if(!a.vipSubnetId)return"VIP Subnet is required."}if(2===c&&a.createListener){if(!a.listenerName||!a.listenerName.trim())return"Listener Name is required.";if(!a.listenerProtocol)return"Listener Protocol is required.";if(!a.listenerPort)return"Listener Port is required."}if(3===
c&&a.createPool){if(!a.poolName||!a.poolName.trim())return"Pool Name is required.";if(!("APP_COOKIE"!==a.sessionPersistence||a.cookieName&&a.cookieName.trim()))return"Cookie Name is required."}if(5===c&&a.createMonitor){if(!a.monitorName||!a.monitorName.trim())return"Monitor Name is required.";if(!a.monitorType)return"Monitor Type is required.";if(!a.delay)return"Delay is required.";if(!a.timeout)return"Timeout is required.";if(!a.maxRetries)return"Max Retries is required."}return null};k=()=>{const c=
n(b);c?d(c):(d(""),l(b+1))};const B=()=>{d("");l(b-1)},h=c=>{if(c>b){const f=n(b);if(f){d(f);return}}d("");l(c)},C=()=>{const c=n(5);c?d(c):(d(""),m(!0),window.Octavia.api.createLoadBalancer(a).then(()=>{m(!1);t()}).catch(f=>{m(!1);d("Error: "+f.message)}))};return React.createElement("div",{className:"modal fade in",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)",overflowY:"auto"}},React.createElement("div",{className:"modal-dialog modal-lg"},React.createElement("div",{className:"modal-content"},
React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:p},React.createElement("span",{"aria-hidden":"true"},React.createElement("svg",{version:"1.1",className:"close-icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 59.9 59.9",enableBackground:"new 0 0 59.9 59.9",xmlSpace:"preserve"},React.createElement("line",{fill:"none",stroke:"currentColor",
strokeMiterlimit:"10",x1:"57.4",y1:"2.5",x2:"2.5",y2:"57.4"}),React.createElement("line",{fill:"none",stroke:"currentColor",strokeMiterlimit:"10",x1:"2.5",y1:"2.5",x2:"57.4",y2:"57.4"})))),React.createElement("h4",{className:"modal-title"},"Create Load Balancer")),React.createElement("div",{className:"modal-body"},q&&React.createElement("div",{className:"alert alert-danger",style:{padding:"10px 15px",marginBottom:20}},q),React.createElement("div",{className:"wizard",style:{marginBottom:20}},React.createElement("ul",
{className:"breadcrumbs",style:{paddingLeft:0,margin:0}},React.createElement("li",{className:`bc ${1===b?"active":1<b?"prevActive":""}`,onClick:()=>h(1),style:{cursor:"pointer"}},"Details"),React.createElement("li",{className:`bc ${2===b?"active":2<b?"prevActive":""}`,onClick:()=>h(2),style:{cursor:"pointer"}},"Listener"),React.createElement("li",{className:`bc ${3===b?"active":3<b?"prevActive":""}`,onClick:()=>h(3),style:{cursor:"pointer"}},"Pool"),React.createElement("li",{className:`bc ${4===b?
"active":4<b?"prevActive":""}`,onClick:()=>h(4),style:{cursor:"pointer"}},"Members"),React.createElement("li",{className:`bc ${5===b?"active":5<b?"prevActive":""}`,onClick:()=>h(5),style:{cursor:"pointer"}},"Monitor"))),(()=>{switch(b){case 1:return React.createElement(u,{data:a,update:g,options:e});case 2:return React.createElement(v,{data:a,update:g});case 3:return React.createElement(w,{data:a,update:g});case 4:return React.createElement(x,{data:a,update:g,options:e});case 5:return React.createElement(y,
{data:a,update:g});default:return React.createElement("div",null,"Unknown Step")}})()),React.createElement("div",{className:"modal-footer"},React.createElement("button",{className:"btn btn-default",onClick:p},"Cancel"),1<b&&React.createElement("button",{className:"btn btn-default",onClick:B},"Previous"),5>b&&React.createElement("button",{className:"btn btn-primary",onClick:k},"Next"),5===b&&React.createElement("button",{className:"btn btn-success",onClick:C,disabled:r},r?"Creating...":"Create Load Balancer")))))}})();